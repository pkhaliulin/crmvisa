/**
 * Ð£Ñ‚Ð¸Ð»Ð¸Ñ‚Ñ‹ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ ÑÐ¾ ÑÑ‚Ñ€Ð°Ð½Ð°Ð¼Ð¸ (ISO Alpha-2 ÐºÐ¾Ð´Ñ‹).
 * Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð² AgencySettings, CasesPage, PublicScoringPage Ð¸ Ð´Ñ€.
 */

// Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ñ„Ð»Ð°Ð³Ð° emoji Ð¸Ð· ISO Alpha-2 ÐºÐ¾Ð´Ð° (Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð´Ð»Ñ Ð²ÑÐµÑ… Ð²Ð°Ð»Ð¸Ð´Ð½Ñ‹Ñ… ÐºÐ¾Ð´Ð¾Ð²)
export function codeToFlag(code) {
    if (!code || code.length !== 2) return 'ðŸŒ';
    return code.toUpperCase().split('').map(c =>
        String.fromCodePoint(c.charCodeAt(0) - 65 + 0x1F1E6)
    ).join('');
}

// Ð Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ð¹ ÑÐ¿Ñ€Ð°Ð²Ð¾Ñ‡Ð½Ð¸Ðº ÑÑ‚Ñ€Ð°Ð½ (Ñ€ÑƒÑÑÐºÐ¸Ðµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ñ)
const COUNTRY_NAMES = {
    DE: 'Ð“ÐµÑ€Ð¼Ð°Ð½Ð¸Ñ',       FR: 'Ð¤Ñ€Ð°Ð½Ñ†Ð¸Ñ',          IT: 'Ð˜Ñ‚Ð°Ð»Ð¸Ñ',
    ES: 'Ð˜ÑÐ¿Ð°Ð½Ð¸Ñ',        GB: 'Ð’ÐµÐ»Ð¸ÐºÐ¾Ð±Ñ€Ð¸Ñ‚Ð°Ð½Ð¸Ñ',    US: 'Ð¡Ð¨Ð',
    CA: 'ÐšÐ°Ð½Ð°Ð´Ð°',         AU: 'ÐÐ²ÑÑ‚Ñ€Ð°Ð»Ð¸Ñ',         NZ: 'ÐÐ¾Ð²Ð°Ñ Ð—ÐµÐ»Ð°Ð½Ð´Ð¸Ñ',
    JP: 'Ð¯Ð¿Ð¾Ð½Ð¸Ñ',         KR: 'Ð®Ð¶Ð½Ð°Ñ ÐšÐ¾Ñ€ÐµÑ',       CN: 'ÐšÐ¸Ñ‚Ð°Ð¹',
    AE: 'ÐžÐÐ­',            SA: 'Ð¡Ð°ÑƒÐ´Ð¾Ð²ÑÐºÐ°Ñ ÐÑ€Ð°Ð²Ð¸Ñ', TR: 'Ð¢ÑƒÑ€Ñ†Ð¸Ñ',
    PL: 'ÐŸÐ¾Ð»ÑŒÑˆÐ°',         CZ: 'Ð§ÐµÑ…Ð¸Ñ',             SK: 'Ð¡Ð»Ð¾Ð²Ð°ÐºÐ¸Ñ',
    HU: 'Ð’ÐµÐ½Ð³Ñ€Ð¸Ñ',        AT: 'ÐÐ²ÑÑ‚Ñ€Ð¸Ñ',           CH: 'Ð¨Ð²ÐµÐ¹Ñ†Ð°Ñ€Ð¸Ñ',
    NL: 'ÐÐ¸Ð´ÐµÑ€Ð»Ð°Ð½Ð´Ñ‹',     BE: 'Ð‘ÐµÐ»ÑŒÐ³Ð¸Ñ',           SE: 'Ð¨Ð²ÐµÑ†Ð¸Ñ',
    NO: 'ÐÐ¾Ñ€Ð²ÐµÐ³Ð¸Ñ',       DK: 'Ð”Ð°Ð½Ð¸Ñ',             FI: 'Ð¤Ð¸Ð½Ð»ÑÐ½Ð´Ð¸Ñ',
    PT: 'ÐŸÐ¾Ñ€Ñ‚ÑƒÐ³Ð°Ð»Ð¸Ñ',     GR: 'Ð“Ñ€ÐµÑ†Ð¸Ñ',             HR: 'Ð¥Ð¾Ñ€Ð²Ð°Ñ‚Ð¸Ñ',
    SI: 'Ð¡Ð»Ð¾Ð²ÐµÐ½Ð¸Ñ',       EE: 'Ð­ÑÑ‚Ð¾Ð½Ð¸Ñ',           LV: 'Ð›Ð°Ñ‚Ð²Ð¸Ñ',
    LT: 'Ð›Ð¸Ñ‚Ð²Ð°',          LU: 'Ð›ÑŽÐºÑÐµÐ¼Ð±ÑƒÑ€Ð³',         MT: 'ÐœÐ°Ð»ÑŒÑ‚Ð°',
    IS: 'Ð˜ÑÐ»Ð°Ð½Ð´Ð¸Ñ',       IE: 'Ð˜Ñ€Ð»Ð°Ð½Ð´Ð¸Ñ',           CY: 'ÐšÐ¸Ð¿Ñ€',
    BG: 'Ð‘Ð¾Ð»Ð³Ð°Ñ€Ð¸Ñ',       RO: 'Ð ÑƒÐ¼Ñ‹Ð½Ð¸Ñ',            RS: 'Ð¡ÐµÑ€Ð±Ð¸Ñ',
    ME: 'Ð§ÐµÑ€Ð½Ð¾Ð³Ð¾Ñ€Ð¸Ñ',     MK: 'Ð¡ÐµÐ²ÐµÑ€Ð½Ð°Ñ ÐœÐ°ÐºÐµÐ´Ð¾Ð½Ð¸Ñ', AL: 'ÐÐ»Ð±Ð°Ð½Ð¸Ñ',
    BA: 'Ð‘Ð¾ÑÐ½Ð¸Ñ',         UA: 'Ð£ÐºÑ€Ð°Ð¸Ð½Ð°',            GE: 'Ð“Ñ€ÑƒÐ·Ð¸Ñ',
    AM: 'ÐÑ€Ð¼ÐµÐ½Ð¸Ñ',        AZ: 'ÐÐ·ÐµÑ€Ð±Ð°Ð¹Ð´Ð¶Ð°Ð½',        MD: 'ÐœÐ¾Ð»Ð´Ð¾Ð²Ð°',
    KZ: 'ÐšÐ°Ð·Ð°Ñ…ÑÑ‚Ð°Ð½',      UZ: 'Ð£Ð·Ð±ÐµÐºÐ¸ÑÑ‚Ð°Ð½',         KG: 'ÐšÑ‹Ñ€Ð³Ñ‹Ð·ÑÑ‚Ð°Ð½',
    TJ: 'Ð¢Ð°Ð´Ð¶Ð¸ÐºÐ¸ÑÑ‚Ð°Ð½',    TM: 'Ð¢ÑƒÑ€ÐºÐ¼ÐµÐ½Ð¸ÑÑ‚Ð°Ð½',       RU: 'Ð Ð¾ÑÑÐ¸Ñ',
    BY: 'Ð‘ÐµÐ»Ð°Ñ€ÑƒÑÑŒ',       MX: 'ÐœÐµÐºÑÐ¸ÐºÐ°',            BR: 'Ð‘Ñ€Ð°Ð·Ð¸Ð»Ð¸Ñ',
    AR: 'ÐÑ€Ð³ÐµÐ½Ñ‚Ð¸Ð½Ð°',      CL: 'Ð§Ð¸Ð»Ð¸',               CO: 'ÐšÐ¾Ð»ÑƒÐ¼Ð±Ð¸Ñ',
    IN: 'Ð˜Ð½Ð´Ð¸Ñ',          TH: 'Ð¢Ð°Ð¸Ð»Ð°Ð½Ð´',            VN: 'Ð’ÑŒÐµÑ‚Ð½Ð°Ð¼',
    ID: 'Ð˜Ð½Ð´Ð¾Ð½ÐµÐ·Ð¸Ñ',      MY: 'ÐœÐ°Ð»Ð°Ð¹Ð·Ð¸Ñ',           SG: 'Ð¡Ð¸Ð½Ð³Ð°Ð¿ÑƒÑ€',
    PH: 'Ð¤Ð¸Ð»Ð¸Ð¿Ð¿Ð¸Ð½Ñ‹',      EG: 'Ð•Ð³Ð¸Ð¿ÐµÑ‚',             MA: 'ÐœÐ°Ñ€Ð¾ÐºÐºÐ¾',
    TN: 'Ð¢ÑƒÐ½Ð¸Ñ',          IL: 'Ð˜Ð·Ñ€Ð°Ð¸Ð»ÑŒ',             JO: 'Ð˜Ð¾Ñ€Ð´Ð°Ð½Ð¸Ñ',
};

export function countryName(code) {
    if (!code) return '';
    return COUNTRY_NAMES[code.toUpperCase()] ?? code;
}

export function countryInfo(code) {
    const c = code?.toUpperCase() ?? '';
    return {
        code: c,
        name: COUNTRY_NAMES[c] ?? c,
        flag: codeToFlag(c),
    };
}

// ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº Ð´Ð»Ñ Ð²Ñ‹Ð¿Ð°Ð´Ð°ÑŽÑ‰Ð¸Ñ… ÑÐ¿Ð¸ÑÐºÐ¾Ð² (Ð¾Ñ‚ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾ Ð¿Ð¾ Ð°Ð»Ñ„Ð°Ð²Ð¸Ñ‚Ñƒ)
export const ALL_COUNTRIES = Object.entries(COUNTRY_NAMES)
    .map(([code, name]) => ({ code, name, flag: codeToFlag(code) }))
    .sort((a, b) => a.name.localeCompare(b.name, 'ru'));

// Ð¢Ð¾Ð»ÑŒÐºÐ¾ ÑÑ‚Ñ€Ð°Ð½Ñ‹ Ð¨ÐµÐ½Ð³ÐµÐ½Ð° + Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ð´Ð»Ñ Ð²Ð¸Ð·Ð¾Ð²Ñ‹Ñ… Ð°Ð³ÐµÐ½Ñ‚ÑÑ‚Ð²
export const VISA_COUNTRIES = [
    'DE','FR','IT','ES','GB','US','CA','PL','CZ','AE','TR','KR',
    'AT','CH','NL','BE','SE','NO','DK','FI','PT','GR','HR','HU',
    'SK','SI','EE','LV','LT','LU','MT','IS','IE','CY','BG','RO',
].map(code => ({ code, name: COUNTRY_NAMES[code] ?? code, flag: codeToFlag(code) }))
    .sort((a, b) => a.name.localeCompare(b.name, 'ru'));
